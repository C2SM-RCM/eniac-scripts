diff --git a/config/mh-linux b/config/mh-linux
index d9c3306d9..3ad133c70 100644
--- a/config/mh-linux
+++ b/config/mh-linux
@@ -45,7 +45,7 @@ case "$fortran_compiler" in
         compiler_version = $(gfortran --version | awk 'NR==1{split($NF,v,"."); printf("gcc%1d%1d", v[1], v[2])}')
         CFLAGS      = $CFLAGS -DgFortran
         FCPP        = -cpp
-        FLANG       = -std=f2008 -fmodule-private -fimplicit-none -fmax-identifier-length=63 -ffree-line-length-132
+        FLANG       = -std=f2008 -fmodule-private -fimplicit-none -fmax-identifier-length=63 -ffree-line-length-none
         FWARN       = -Wall -Wcharacter-truncation -Wconversion -Wunderflow -Wunused-parameter -Wno-surprising
         FDEBUG      = -g -fbacktrace
         FCHECK      = -finit-real=nan -finit-integer=-2147483648 -finit-character=127
@@ -53,7 +53,7 @@ case "$fortran_compiler" in
         FOTPTIM     = -march=native -O3 -ffast-math -D__LOOP_EXCHANGE
 
         DEBUG_FLAGS = -g -O -march=native -fbacktrace -fbounds-check -fstack-protector-all $FCHECK -DDEBUG_MVSTREAM
-        STD_FLAGS   = -g    -march=native -fbacktrace -fbounds-check -fstack-protector-all $FCHECK -march=native -O2 -mpc64 -D__LOOP_EXCHANGE
+        STD_FLAGS   = -D__LOOP_EXCHANGE
         HIOPT_FLAGS = -march=native -O3 -ffast-math -mpc64 -D__LOOP_EXCHANGE -g
 
         FC          = gfortran
@@ -145,7 +145,7 @@ case "$fortran_compiler" in
         MODDIR      = -mdir 
         WLFLAG      = -Wl,-Wl,
         ;;
-    pgi)
+    pgi*)
         config_compiler  = pgi
         compiler_version = $(pgfortran -V | awk 'NR==2{split($2,v,"."); printf("pgi%1d", v[1])}')
         CFLAGS      = $CFLAGS -DgFortran
@@ -268,11 +268,13 @@ case "$ac_sitename" in
                         config_target=daint_cpu
                         load_modules =modules craype daint-gpu PrgEnv-gnu cray-netcdf cray-hdf5
                         CFLAGS      = -DgFortran -DHAVE_LIBNETCDF -DHAVE_NETCDF2 -DHAVE_NETCDF4
+                        FFLAGS        = $FLANG $FWARN -D__LOOP_EXCHANGE -DgFortran -cpp -save-temps -O -g -I\$(SERIALBOX2ROOT)/include -DFORCE_FTG_SERIALIZATION
                         NETCDFROOT  = ${NETCDF_DIR}
                         HDF5ROOT    = ${HDF5_DIR}
                         LAPACKROOT    = ${CRAY_LIBSCI_PREFIX_DIR}
                         LAPACK_LIB    = -lsci_gnu
                         OTHER_LIBS  = -L/apps/daint/UES/6.0.UP02/sandbox-ws/jasper/2.0.10/GNU/5.3.0/lib -ljasper -dynamic -L/usr/lib64 -llzma
+                        OTHER_LIBS  = ${OTHER_LIBS} -L\$(SERIALBOX2ROOT)/lib -l:libSerialboxFortran.a -lstdc++fs -lstdc++
                         SERIALBOX2ROOT = /apps/daint/UES/6.0.UP04/sandboxes/wsawyer/serialbox2/2.4.0/GNU/5.3.0
 			;;
                     intel)
@@ -424,7 +426,7 @@ case "$ac_sitename" in
                         MODOPT      = -I
                         MODDIR      = -J
                         config_target = kesch_cpu
-                        FFLAGS        = $FLANG $FWARN -DHAVE_SLOW_PASSIVE_TARGET_ONESIDED -D__LOOP_EXCHANGE -DgFortran -cpp -O2
+                        FFLAGS        = $FLANG $FWARN -DHAVE_SLOW_PASSIVE_TARGET_ONESIDED -D__LOOP_EXCHANGE -DgFortran -cpp -save-temps -O -g -I\$(SERIALBOX2ROOT)/include -DFORCE_FTG_SERIALIZATION
                         CFLAGS        = -D_XOPEN_SOURCE=700 -DHAVE_SLOW_PASSIVE_TARGET_ONESIDED -O2 -cpp -std=c99 -DgFortran -DHAVE_LIBNETCDF -DHAVE_NETCDF2 -DHAVE_NETCDF4
                         GRIBAPIROOT    = /project/c14/install/kesch/libgrib_api/v1.20.0.2/gnu/
                         SERIALBOX2ROOT = /project/c14/install/kesch/serialbox2/gnu
@@ -438,6 +440,7 @@ case "$ac_sitename" in
                                 LAPACKROOT    = ${CRAY_LIBSCI_PREFIX_DIR}
                                 LAPACK_LIB    = -lsci_cray
                                 OTHER_LIBS    = -lpthread
+                                OTHER_LIBS    = ${OTHER_LIBS} -L\$(SERIALBOX2ROOT)/lib -l:libSerialboxFortran.a -lstdc++fs -lstdc++
                                 ;;
                             *)
                                 (>&6 echo "")
